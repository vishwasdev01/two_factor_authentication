<div class="container text-center mt-5">
  <div class="row">
    <div class="col-md-6 offset-md-3">
      <div class="card mt-4">
        <div class="card-body">
          <h2>Set Up OTP</h2>

          <p>
            Scan the QR code below with your OTP authenticator app, or manually enter the key:
          </p>

          <div class="text-center mt-4">
            <%= image_tag qr_path, alt: 'OTP QR Code', class: 'img-fluid' %>
          </div>

          <p class="mt-3">
            OTP Secret Key:
            <strong><%= @user.otp_secret_key %></strong>
          </p>

          <hr>

          <p>
            Keep your OTP secret key secure. If lost, you may need to reset your OTP settings.
          </p>

          <%= form_with(url: add_otp_path, method: 'post', local: true) do |f| %>
            <div class="form-group">
              <%= f.label :otp_code, class: 'form-label' %>
              <%= f.text_field :otp_code, class: 'form-control', required: true, placeholder: 'Enter OTP Code' %>
            </div>

            <div class="mt-4">
              <%= f.submit 'Submit OTP', class: 'btn btn-primary btn-block' %>
            </div>
          <% end %>

          <p>
            <%= link_to 'Back to Home', root_path, class: 'btn btn-primary btn-block mt-3' %>
          </p>
        </div>
      </div>
    </div>
  </div>
</div>